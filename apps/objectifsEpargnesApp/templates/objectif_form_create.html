{% extends layout_path %}

{% load static %}
{% load i18n %}

{% block title %}Créer un objectif d'épargne{% endblock %}

{% block vendor_js %}
  {{ block.super }}
  <script src="{% static 'vendor/libs/masonry/masonry.js' %}"></script>
{% endblock vendor_js %}

{% block content %} 

<div class="col-xl mx-auto">
  <div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h5 class="mb-0">Créer un objectif d'épargne</h5>
      <small class="text-body float-end">Formulaire</small>
    </div>

    <div class="card-body">
      <form method="post">
        {% csrf_token %}

        {% if form.errors %}
          <div class="alert alert-danger">
            <strong>Veuillez corriger les erreurs ci-dessous :</strong>
          </div>
        {% endif %}

        <!-- NAME -->
        <div class="mb-6">
          <label class="form-label" for="id_name">Nom de l’objectif</label>
          <div class="input-group input-group-merge">
            <span class="input-group-text">
              <i class="icon-base bx bx-bullseye"></i>
            </span>
            {{ form.name }}
          </div>
          {% if form.name.errors %}
            <small class="text-danger">{{ form.name.errors|striptags }}</small>
          {% endif %}
        </div>

        <!-- TARGET AMOUNT -->
        <div class="mb-6">
          <label class="form-label" for="id_target_amount">Montant cible</label>
          <div class="input-group input-group-merge">
            <span class="input-group-text">
              <i class="icon-base bx bx-money"></i>
            </span>
            {{ form.target_amount }}
            <span class="input-group-text">TND</span>
          </div>
          {% if form.target_amount.errors %}
            <small class="text-danger">{{ form.target_amount.errors|striptags }}</small>
          {% endif %}
        </div>

        <!-- TARGET DATE -->
        <div class="mb-6">
          <label class="form-label" for="id_target_date">Date cible</label>
          <div class="input-group input-group-merge">
            <span class="input-group-text">
              <i class="icon-base bx bx-calendar"></i>
            </span>
            {{ form.target_date }}
          </div>
          {% if form.target_date.errors %}
            <small class="text-danger">{{ form.target_date.errors|striptags }}</small>
          {% endif %}
        </div>

        <!-- STATUS -->
        <div class="mb-4">
        <label class="form-label" for="id_status">Statut</label>
        <div class="input-group input-group-merge">
            <span class="input-group-text">
            <i class="icon-base bx bx-check-shield"></i>
            </span>

            <select id="id_status" name="status" class="form-select">
            {% for value, label in form.fields.status.choices %}
                <option value="{{ value }}" {% if form.status.value == value %}selected{% endif %}>
                {{ label }}
                </option>
            {% endfor %}
            </select>
        </div>

        {% if form.status.errors %}
            <small class="text-danger">{{ form.status.errors|striptags }}</small>
        {% endif %}
        </div>

        <!-- SUBMIT BUTTON -->
        <button type="submit" class="btn btn-primary mt-3">Créer</button>

      </form>
    </div>
  </div>
</div>



{% endblock %}